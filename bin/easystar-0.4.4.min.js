/*!
 * The MIT License (MIT)
 * 
 * Copyright (c) 2012-2015 Bryce Neal
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var EasyStar=function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/bin/",e(e.s=0)}([function(t,n,e){var o={},r=e(1),i=e(2),s=e(3);t.exports=o;var u=1;o.js=function(){var t,n,e,l=1.4,a=!1,c={},f={},p={},h={},d=!0,y={},v=[],T=Number.MAX_VALUE,g=!1;this.setAcceptableTiles=function(t){t instanceof Array?e=t:!isNaN(parseFloat(t))&&isFinite(t)&&(e=[t])},this.enableSync=function(){a=!0},this.disableSync=function(){a=!1},this.enableDiagonals=function(){g=!0},this.disableDiagonals=function(){g=!1},this.setGrid=function(n){t=n;for(var e=0;e<t.length;e++)for(var o=0;o<t[0].length;o++)f[t[e][o]]||(f[t[e][o]]=1)},this.setTileCost=function(t,n){f[t]=n},this.setAdditionalPointCost=function(t,n,e){void 0===p[n]&&(p[n]={}),p[n][t]=e},this.removeAdditionalPointCost=function(t,n){void 0!==p[n]&&delete p[n][t]},this.removeAllAdditionalPointCosts=function(){p={}},this.setDirectionalCondition=function(t,n,e){void 0===h[n]&&(h[n]={}),h[n][t]=e},this.removeAllDirectionalConditions=function(){h={}},this.setIterationsPerCalculation=function(t){T=t},this.avoidAdditionalPoint=function(t,n){void 0===c[n]&&(c[n]={}),c[n][t]=1},this.stopAvoidingAdditionalPoint=function(t,n){void 0!==c[n]&&delete c[n][t]},this.enableCornerCutting=function(){d=!0},this.disableCornerCutting=function(){d=!1},this.stopAvoidingAllAdditionalPoints=function(){c={}},this.findPath=function(n,o,i,l,c){function f(t){a?c(t):setTimeout((function(){c(t)}))}if(void 0===e)throw new Error("You can't set a path without first calling setAcceptableTiles() on EasyStar.");if(void 0===t)throw new Error("You can't set a path without first calling setGrid() on EasyStar.");if(n<0||o<0||i<0||l<0||n>t[0].length-1||o>t.length-1||i>t[0].length-1||l>t.length-1)throw new Error("Your start or end point is outside the scope of your grid.");if(n!==i||o!==l){for(var p=t[l][i],h=!1,d=0;d<e.length;d++)if(p===e[d]){h=!0;break}if(!1!==h){var T=new r;return T.openList=new s((function(t,n){return t.bestGuessDistance()-n.bestGuessDistance()})),T.isDoneCalculating=!1,T.nodeHash={},T.startX=n,T.startY=o,T.endX=i,T.endY=l,T.callback=f,T.openList.push(P(T,T.startX,T.startY,null,1)),l=u++,y[l]=T,v.push(l),l}f(null)}else f([])},this.cancelPath=function(t){return t in y&&(delete y[t],!0)},this.calculate=function(){if(0!==v.length&&void 0!==t&&void 0!==e)for(n=0;n<T;n++){if(0===v.length)return;a&&(n=0);var o=v[0],r=y[o];if(void 0!==r)if(0!==r.openList.size()){var i=r.openList.pop();if(r.endX!==i.x||r.endY!==i.y)(i.list=0)<i.y&&x(r,i,0,-1,+m(i.x,i.y-1)),i.x<t[0].length-1&&x(r,i,1,0,+m(i.x+1,i.y)),i.y<t.length-1&&x(r,i,0,1,+m(i.x,i.y+1)),0<i.x&&x(r,i,-1,0,+m(i.x-1,i.y)),g&&(0<i.x&&0<i.y&&(d||b(t,e,i.x,i.y-1,i)&&b(t,e,i.x-1,i.y,i))&&x(r,i,-1,-1,l*m(i.x-1,i.y-1)),i.x<t[0].length-1&&i.y<t.length-1&&(d||b(t,e,i.x,i.y+1,i)&&b(t,e,i.x+1,i.y,i))&&x(r,i,1,1,l*m(i.x+1,i.y+1)),i.x<t[0].length-1&&0<i.y&&(d||b(t,e,i.x,i.y-1,i)&&b(t,e,i.x+1,i.y,i))&&x(r,i,1,-1,l*m(i.x+1,i.y-1)),0<i.x&&i.y<t.length-1&&(d||b(t,e,i.x,i.y+1,i)&&b(t,e,i.x-1,i.y,i))&&x(r,i,-1,1,l*m(i.x-1,i.y+1)));else{var s=[];s.push({x:i.x,y:i.y});for(var u=i.parent;null!=u;)s.push({x:u.x,y:u.y}),u=u.parent;s.reverse(),r.callback(s),delete y[o],v.shift()}}else r.callback(null),delete y[o],v.shift();else v.shift()}};var x=function(n,o,r,i,s){r=o.x+r,i=o.y+i,void 0!==c[i]&&void 0!==c[i][r]||!b(t,e,r,i,o)||(void 0===(i=P(n,r,i,o,s)).list?(i.list=1,n.openList.push(i)):o.costSoFar+s<i.costSoFar&&(i.costSoFar=o.costSoFar+s,i.parent=o,n.openList.updateItem(i)))},b=function(t,n,e,o,r){var i=h[o]&&h[o][e];if(i){var s=O(r.x-e,r.y-o);if(!function(){for(var t=0;t<i.length;t++)if(i[t]===s)return!0;return!1}())return!1}for(var u=0;u<n.length;u++)if(t[o][e]===n[u])return!0;return!1},O=function(t,n){if(0===t&&-1===n)return o.TOP;if(1===t&&-1===n)return o.TOP_RIGHT;if(1===t&&0===n)return o.RIGHT;if(1===t&&1===n)return o.BOTTOM_RIGHT;if(0===t&&1===n)return o.BOTTOM;if(-1===t&&1===n)return o.BOTTOM_LEFT;if(-1===t&&0===n)return o.LEFT;if(-1===t&&-1===n)return o.TOP_LEFT;throw new Error("These differences are not valid: "+t+", "+n)},m=function(n,e){return p[e]&&p[e][n]||f[t[e][n]]},P=function(t,n,e,o,r){if(void 0!==t.nodeHash[e]){if(void 0!==t.nodeHash[e][n])return t.nodeHash[e][n]}else t.nodeHash[e]={};var s=M(n,e,t.endX,t.endY);r=null!==o?o.costSoFar+r:0,s=new i(o,n,e,r,s);return t.nodeHash[e][n]=s},M=function(t,n,e,o){var r,i;return g?(r=Math.abs(t-e))<(i=Math.abs(n-o))?l*r+i:l*i+r:(r=Math.abs(t-e))+(i=Math.abs(n-o))}},o.TOP="TOP",o.TOP_RIGHT="TOP_RIGHT",o.RIGHT="RIGHT",o.BOTTOM_RIGHT="BOTTOM_RIGHT",o.BOTTOM="BOTTOM",o.BOTTOM_LEFT="BOTTOM_LEFT",o.LEFT="LEFT",o.TOP_LEFT="TOP_LEFT"},function(t,n){t.exports=function(){this.pointsToAvoid={},this.startX,this.callback,this.startY,this.endX,this.endY,this.nodeHash={},this.openList}},function(t,n){t.exports=function(t,n,e,o,r){this.parent=t,this.x=n,this.y=e,this.costSoFar=o,this.simpleDistanceToTarget=r,this.bestGuessDistance=function(){return this.costSoFar+this.simpleDistanceToTarget}}},function(t,n,e){t.exports=e(4)},function(t,n,e){var o,r;(function(){var e,i,s,u,l,a,c,f,p,h,d,y,v,T,g;function x(t){this.cmp=null!=t?t:i,this.nodes=[]}s=Math.floor,h=Math.min,i=function(t,n){return t<n?-1:n<t?1:0},p=function(t,n,e,o,r){var u;if(null==e&&(e=0),null==r&&(r=i),e<0)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);e<o;)r(n,t[u=s((e+o)/2)])<0?o=u:e=u+1;return[].splice.apply(t,[e,e-e].concat(n)),n},a=function(t,n,e){return null==e&&(e=i),t.push(n),T(t,0,t.length-1,e)},l=function(t,n){var e,o;return null==n&&(n=i),e=t.pop(),t.length?(o=t[0],t[0]=e,g(t,0,n)):o=e,o},f=function(t,n,e){var o;return null==e&&(e=i),o=t[0],t[0]=n,g(t,0,e),o},c=function(t,n,e){var o;return null==e&&(e=i),t.length&&e(t[0],n)<0&&(n=(o=[t[0],n])[0],t[0]=o[1],g(t,0,e)),n},u=function(t,n){var e,o,r,u,l,a;for(null==n&&(n=i),l=[],o=0,r=(u=function(){a=[];for(var n=0,e=s(t.length/2);0<=e?n<e:e<n;0<=e?n++:n--)a.push(n);return a}.apply(this).reverse()).length;o<r;o++)e=u[o],l.push(g(t,e,n));return l},v=function(t,n,e){if(null==e&&(e=i),-1!==(n=t.indexOf(n)))return T(t,0,n,e),g(t,n,e)},d=function(t,n,e){var o,r,s,l,a;if(null==e&&(e=i),!(r=t.slice(0,n)).length)return r;for(u(r,e),s=0,l=(a=t.slice(n)).length;s<l;s++)o=a[s],c(r,o,e);return r.sort(e).reverse()},y=function(t,n,e){var o,r,s,a,c,f,d,y,v;if(null==e&&(e=i),10*n<=t.length){if(!(s=t.slice(0,n).sort(e)).length)return s;for(r=s[s.length-1],a=0,f=(d=t.slice(n)).length;a<f;a++)e(o=d[a],r)<0&&(p(s,o,0,null,e),s.pop(),r=s[s.length-1]);return s}for(u(t,e),v=[],c=0,y=h(n,t.length);0<=y?c<y:y<c;0<=y?++c:--c)v.push(l(t,e));return v},T=function(t,n,e,o){var r,s,u;for(null==o&&(o=i),r=t[e];n<e&&o(r,s=t[u=e-1>>1])<0;)t[e]=s,e=u;return t[e]=r},g=function(t,n,e){var o,r,s,u,l;for(null==e&&(e=i),r=t.length,s=t[l=n],o=2*n+1;o<r;)(u=o+1)<r&&!(e(t[o],t[u])<0)&&(o=u),t[n]=t[o],o=2*(n=o)+1;return t[n]=s,T(t,l,n,e)},x.push=a,x.pop=l,x.replace=f,x.pushpop=c,x.heapify=u,x.updateItem=v,x.nlargest=d,x.nsmallest=y,x.prototype.push=function(t){return a(this.nodes,t,this.cmp)},x.prototype.pop=function(){return l(this.nodes,this.cmp)},x.prototype.peek=function(){return this.nodes[0]},x.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},x.prototype.replace=function(t){return f(this.nodes,t,this.cmp)},x.prototype.pushpop=function(t){return c(this.nodes,t,this.cmp)},x.prototype.heapify=function(){return u(this.nodes,this.cmp)},x.prototype.updateItem=function(t){return v(this.nodes,t,this.cmp)},x.prototype.clear=function(){return this.nodes=[]},x.prototype.empty=function(){return 0===this.nodes.length},x.prototype.size=function(){return this.nodes.length},x.prototype.clone=function(){var t=new x;return t.nodes=this.nodes.slice(0),t},x.prototype.toArray=function(){return this.nodes.slice(0)},x.prototype.insert=x.prototype.push,x.prototype.top=x.prototype.peek,x.prototype.front=x.prototype.peek,x.prototype.has=x.prototype.contains,x.prototype.copy=x.prototype.clone,e=x,o=[],void 0===(r="function"==typeof(r=function(){return e})?r.apply(n,o):r)||(t.exports=r)}).call(this)}]);